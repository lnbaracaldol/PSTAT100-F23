<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>PSTAT100 - Lab 1: Pandas Overview</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-H3YKZX4J88"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-H3YKZX4J88', { 'anonymize_ip': true});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">PSTAT100</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html" rel="" target="">
 <span class="menu-text">Course syllabus</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../content.html" rel="" target="">
 <span class="menu-text">Materials</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#creating-dataframes-basic-manipulations" id="toc-creating-dataframes-basic-manipulations" class="nav-link active" data-scroll-target="#creating-dataframes-basic-manipulations">Creating DataFrames &amp; Basic Manipulations</a>
  <ul class="collapse">
  <li><a href="#creating-dataframes-from-scratch" id="toc-creating-dataframes-from-scratch" class="nav-link" data-scroll-target="#creating-dataframes-from-scratch">Creating dataframes from scratch</a></li>
  <li><a href="#dataframe-attributes" id="toc-dataframe-attributes" class="nav-link" data-scroll-target="#dataframe-attributes">Dataframe Attributes</a></li>
  <li><a href="#dataframe-indexing" id="toc-dataframe-indexing" class="nav-link" data-scroll-target="#dataframe-indexing">Dataframe Indexing</a></li>
  <li><a href="#adding-removing-and-renaming-columns" id="toc-adding-removing-and-renaming-columns" class="nav-link" data-scroll-target="#adding-removing-and-renaming-columns">Adding, removing, and renaming columns</a></li>
  <li><a href="#question-1" id="toc-question-1" class="nav-link" data-scroll-target="#question-1">Question 1</a></li>
  <li><a href="#question-2" id="toc-question-2" class="nav-link" data-scroll-target="#question-2">Question 2</a></li>
  <li><a href="#question-3" id="toc-question-3" class="nav-link" data-scroll-target="#question-3">Question 3</a></li>
  <li><a href="#question-4" id="toc-question-4" class="nav-link" data-scroll-target="#question-4">Question 4</a></li>
  </ul></li>
  <li><a href="#operations-on-data-frames" id="toc-operations-on-data-frames" class="nav-link" data-scroll-target="#operations-on-data-frames">Operations on Data Frames</a>
  <ul class="collapse">
  <li><a href="#question-5" id="toc-question-5" class="nav-link" data-scroll-target="#question-5">Question 5</a></li>
  <li><a href="#question-6" id="toc-question-6" class="nav-link" data-scroll-target="#question-6">Question 6</a></li>
  <li><a href="#slicing-selecting-rows-and-columns" id="toc-slicing-selecting-rows-and-columns" class="nav-link" data-scroll-target="#slicing-selecting-rows-and-columns">Slicing: selecting rows and columns</a></li>
  <li><a href="#slicing-with-.iloc-specifying-entry-positions" id="toc-slicing-with-.iloc-specifying-entry-positions" class="nav-link" data-scroll-target="#slicing-with-.iloc-specifying-entry-positions">Slicing with <code>.iloc</code>: specifying entry positions</a></li>
  <li><a href="#question-7" id="toc-question-7" class="nav-link" data-scroll-target="#question-7">Question 7</a></li>
  </ul></li>
  <li><a href="#filtering" id="toc-filtering" class="nav-link" data-scroll-target="#filtering">Filtering</a>
  <ul class="collapse">
  <li><a href="#question-8" id="toc-question-8" class="nav-link" data-scroll-target="#question-8">Question 8</a></li>
  </ul></li>
  <li><a href="#grouping-and-aggregation" id="toc-grouping-and-aggregation" class="nav-link" data-scroll-target="#grouping-and-aggregation">Grouping and aggregation</a>
  <ul class="collapse">
  <li><a href="#aggregation" id="toc-aggregation" class="nav-link" data-scroll-target="#aggregation">Aggregation</a></li>
  <li><a href="#question-9" id="toc-question-9" class="nav-link" data-scroll-target="#question-9">Question 9</a></li>
  <li><a href="#grouping" id="toc-grouping" class="nav-link" data-scroll-target="#grouping">Grouping</a></li>
  <li><a href="#question-10" id="toc-question-10" class="nav-link" data-scroll-target="#question-10">Question 10</a></li>
  <li><a href="#chaining-operations" id="toc-chaining-operations" class="nav-link" data-scroll-target="#chaining-operations">Chaining operations</a></li>
  <li><a href="#question-11" id="toc-question-11" class="nav-link" data-scroll-target="#question-11">Question 11</a></li>
  </ul></li>
  <li><a href="#submission" id="toc-submission" class="nav-link" data-scroll-target="#submission">Submission</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Lab 1: Pandas Overview</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize Otter</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> otter</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>grader <span class="op">=</span> otter.Notebook(<span class="st">"lab1-pandas.ipynb"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><a href="https://pandas.pydata.org/">Pandas</a> is one of the most widely used Python libraries in data science. In this lab, you will learn commonly used data tidying operations/tools in Pandas.</p>
<section id="objectives" class="level4">
<h4 class="anchored" data-anchor-id="objectives">Objectives</h4>
<p>This lab covers the following topics:</p>
<ul>
<li>Dataframe basics
<ul>
<li>Creating dataframes</li>
<li>Dataframe indexing and attributes</li>
<li>Adding, removing, and renaming variables</li>
</ul></li>
<li>Operations on dataframes
<ul>
<li>Slicing (selecting rows and columns)</li>
<li>Filtering (selecting rows that meet certain conditions)</li>
</ul></li>
<li>Grouping and aggregation
<ul>
<li>Summary statistics (mean, median, variance, etc.)</li>
<li>Grouped summaries</li>
<li>Chaining operations and style guidelines</li>
<li>Pivoting</li>
</ul></li>
</ul>
<p><strong>Note</strong>: The Pandas interface is notoriously confusing, and the documentation is not consistently great. Be prepared to search through Pandas documentation and experiment, but remember it is part of the learning experience and will help shape you as a data scientist!</p>
<div class="cell" data-scrolled="true" data-execution_count="1">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> altair <span class="im">as</span> alt</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="creating-dataframes-basic-manipulations" class="level2">
<h2 class="anchored" data-anchor-id="creating-dataframes-basic-manipulations">Creating DataFrames &amp; Basic Manipulations</h2>
<p>A <a href="http://pandas.pydata.org/pandas-docs/stable/dsintro.html#dataframe">dataframe</a> is a table in which each column has a type; there is an index over the columns (typically string labels) and an index over the rows (typically ordinal numbers). An index is represented by a <em>series</em> object, which is a one-dimensional labeled array. Here you’ll cover:</p>
<ul>
<li>creating dataframes from scratch;</li>
<li>retrieving attributes;</li>
<li>dataframe indexing;</li>
<li>adding, removing, and renaming columns.</li>
</ul>
<section id="creating-dataframes-from-scratch" class="level3">
<h3 class="anchored" data-anchor-id="creating-dataframes-from-scratch">Creating dataframes from scratch</h3>
<p>The <a href="https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.html">documentation</a> for the pandas <code>DataFrame</code> class provide two primary syntaxes to create a data frame from scratch:</p>
<ul>
<li>from a dictionary</li>
<li>row-wise tuples</li>
</ul>
<p><strong>Syntax 1 (dictionary):</strong> You can create a data frame by specifying the columns and values using a dictionary (a concatenation of named lists) as shown below.</p>
<p>The keys of the dictionary are the column names, and the values of the dictionary are lists containing the row entries.</p>
<div class="cell" data-tags="[]" data-execution_count="2">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># define a dataframe using dictionary syntax</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>fruit_info <span class="op">=</span> pd.DataFrame( </span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    data <span class="op">=</span> { <span class="st">'fruit'</span>: [<span class="st">'apple'</span>, <span class="st">'orange'</span>, <span class="st">'banana'</span>, <span class="st">'raspberry'</span>],</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>             <span class="st">'color'</span>: [<span class="st">'red'</span>, <span class="st">'orange'</span>, <span class="st">'yellow'</span>, <span class="st">'pink'</span>]</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>           })</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co"># print</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>fruit_info</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="2">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">fruit</th>
<th data-quarto-table-cell-role="th">color</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>apple</td>
<td>red</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>orange</td>
<td>orange</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>banana</td>
<td>yellow</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>raspberry</td>
<td>pink</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p><strong>Syntax 2 (row tuples):</strong> You can also define a dataframe by specifying the rows as tuples.</p>
<p>Each row corresponds to a distinct tuple, and the column indices are specified separately.</p>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># define the same dataframe using tuple syntax </span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>fruit_info2 <span class="op">=</span> pd.DataFrame(</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    [(<span class="st">"apple"</span>, <span class="st">"red"</span>), (<span class="st">"orange"</span>, <span class="st">"orange"</span>), (<span class="st">"banana"</span>, <span class="st">"yellow"</span>), (<span class="st">"raspberry"</span>, <span class="st">"pink"</span>)],</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    columns <span class="op">=</span> [<span class="st">"fruit"</span>, <span class="st">"color"</span>]</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="co"># print</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>fruit_info2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="3">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">fruit</th>
<th data-quarto-table-cell-role="th">color</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>apple</td>
<td>red</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>orange</td>
<td>orange</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>banana</td>
<td>yellow</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>raspberry</td>
<td>pink</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="dataframe-attributes" class="level3">
<h3 class="anchored" data-anchor-id="dataframe-attributes">Dataframe Attributes</h3>
<p>DataFrames have several basic attributes:</p>
<ul>
<li><code>.shape</code> contains dimensions;</li>
<li><code>.dtypes</code> contains data types (float, integer, object, etc.)</li>
<li><code>.size</code> first (row) dimension;</li>
<li><code>.values</code> contains an array comprising each entry in the dataframe.</li>
<li><code>.columns</code> contains the column index;</li>
<li><code>.index</code> contains the row index.</li>
</ul>
<p>You can obtain these attributes by appending the attribute name to the dataframe name. For instance, the dimensions of a dataframe <code>df</code> can be retrieved by <code>df.shape</code>.</p>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># dimensions</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>fruit_info.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="4">
<pre><code>(4, 2)</code></pre>
</div>
</div>
<p>To retrieve a two-dimensional numpy array with the values of the dataframe, use <code>df.values</code>. It is sometimes useful to extract this data structure in order to perform vectorized operations, linear algebra, and the like.</p>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># as array</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>fruit_info.values</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<pre><code>array([['apple', 'red'],
       ['orange', 'orange'],
       ['banana', 'yellow'],
       ['raspberry', 'pink']], dtype=object)</code></pre>
</div>
</div>
</section>
<section id="dataframe-indexing" class="level3">
<h3 class="anchored" data-anchor-id="dataframe-indexing">Dataframe Indexing</h3>
<p>The entries in a dataframe are indexed. Indices for rows and columns are stored as the <code>.index.</code> and <code>.columns</code> attributes, respectively.</p>
<div class="cell" data-tags="[]" data-execution_count="6">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>fruit_info.columns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="6">
<pre><code>Index(['fruit', 'color'], dtype='object')</code></pre>
</div>
</div>
<div class="cell" data-tags="[]" data-execution_count="7">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>fruit_info.index</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<pre><code>RangeIndex(start=0, stop=4, step=1)</code></pre>
</div>
</div>
<p>By default, the row indexing is simply numbering by consecutive integers.</p>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>fruit_info.index.values</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="8">
<pre><code>array([0, 1, 2, 3], dtype=int64)</code></pre>
</div>
</div>
<p>However, rows can alternatively be indexed by labels:</p>
<div class="cell" data-tags="[&quot;fixed&quot;,&quot;cell&quot;]" data-execution_count="9">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># define with a row index</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>pd.DataFrame(</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    [(<span class="st">"apple"</span>, <span class="st">"red"</span>), (<span class="st">"orange"</span>, <span class="st">"orange"</span>), (<span class="st">"banana"</span>, <span class="st">"yellow"</span>), (<span class="st">"raspberry"</span>, <span class="st">"pink"</span>)],</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    columns <span class="op">=</span> [<span class="st">"fruit"</span>, <span class="st">"color"</span>],</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    index <span class="op">=</span> [<span class="st">"fruit 1"</span>, <span class="st">"fruit 2"</span>, <span class="st">"fruit 3"</span>, <span class="st">'fruit 4'</span>]</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">fruit</th>
<th data-quarto-table-cell-role="th">color</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">fruit 1</td>
<td>apple</td>
<td>red</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">fruit 2</td>
<td>orange</td>
<td>orange</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">fruit 3</td>
<td>banana</td>
<td>yellow</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">fruit 4</td>
<td>raspberry</td>
<td>pink</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Unlike data frames in R, the row index label figures prominently in certain operations. The elements of the dataframe can be retrived using <code>.loc[ROW-INDEX, COL-INDEX]</code> which specifies the location of data values <em>by name</em> (not by position).</p>
<div class="cell" data-tags="[]" data-execution_count="10">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># retrieve row 0, column 'fruit'</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>fruit_info.loc[<span class="dv">0</span>, <span class="st">'fruit'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="10">
<pre><code>'apple'</code></pre>
</div>
</div>
<p>Most of the time rows are indexed numerically, and somewhat confusingly, the syntax for <code>.loc</code> does not require putting the row index <code>0</code> in quotes, even though it refers to the row label and not the row number. This is important to remember, because often operations will scramble the order of rows. To see the difference, consider the following:</p>
<div class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># non-consecutive row index</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>pd.DataFrame(</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    [(<span class="st">"apple"</span>, <span class="st">"red"</span>), (<span class="st">"orange"</span>, <span class="st">"orange"</span>), (<span class="st">"banana"</span>, <span class="st">"yellow"</span>), (<span class="st">"raspberry"</span>, <span class="st">"pink"</span>)],</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    columns <span class="op">=</span> [<span class="st">"fruit"</span>, <span class="st">"color"</span>],</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>    index <span class="op">=</span> np.array([<span class="dv">8</span>, <span class="dv">6</span>, <span class="dv">4</span>, <span class="dv">2</span>])</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="11">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">fruit</th>
<th data-quarto-table-cell-role="th">color</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>apple</td>
<td>red</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">6</td>
<td>orange</td>
<td>orange</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>banana</td>
<td>yellow</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2</td>
<td>raspberry</td>
<td>pink</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Now adding <code>.loc[2, 'color']</code> will retrieve <code>pink</code>, the last row of the dataframe.</p>
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># subset</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>pd.DataFrame(</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    [(<span class="st">"apple"</span>, <span class="st">"red"</span>), (<span class="st">"orange"</span>, <span class="st">"orange"</span>), (<span class="st">"banana"</span>, <span class="st">"yellow"</span>), (<span class="st">"raspberry"</span>, <span class="st">"pink"</span>)],</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    columns <span class="op">=</span> [<span class="st">"fruit"</span>, <span class="st">"color"</span>],</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>    index <span class="op">=</span> np.array([<span class="dv">8</span>, <span class="dv">6</span>, <span class="dv">4</span>, <span class="dv">2</span>])</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>).loc[<span class="dv">2</span>, <span class="st">'color'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="12">
<pre><code>'pink'</code></pre>
</div>
</div>
<p>To retrieve values <em>by position</em>, use <code>.iloc</code>. For many, this is more intuitive, as it is most similar to matrix or array indexing in mathematical notation.</p>
<div class="cell" data-tags="[]" data-execution_count="13">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># retrieve 0, 0 entry</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>fruit_info.iloc[<span class="dv">0</span>, <span class="dv">0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="13">
<pre><code>'apple'</code></pre>
</div>
</div>
</section>
<section id="adding-removing-and-renaming-columns" class="level3">
<h3 class="anchored" data-anchor-id="adding-removing-and-renaming-columns">Adding, removing, and renaming columns</h3>
<p>There are two ways to add new columns:</p>
<ul>
<li>direct specification;</li>
<li>using <code>.loc[]</code>.</li>
</ul>
<p><strong>Direct specification:</strong> For a dataFrame <code>df</code>, you can add a column with <code>df['new column name'] = ...</code> and assign a list or array of values to the column.</p>
<p><strong>Using <code>.loc[]</code></strong>: For a dataframe <code>df</code>, you can add a column with <code>df.loc[:, 'new column name'] = ...</code> and assign a list or array of values to the column.</p>
<p>Both accomplish the same task – adding a new column index and populating values for each row – but <code>.loc[]</code> is a little faster.</p>
</section>
<section id="question-1" class="level3">
<h3 class="anchored" data-anchor-id="question-1">Question 1</h3>
<p>Using direct specification, add to the <code>fruit_info</code> table a new column called <code>rank1</code> containing integers 1, 2, 3, and 4, which express your personal preference about the taste ordering for each fruit (1 is tastiest; 4 is least tasty). Make sure that the numbers utilized are unique - no ties are allowed.</p>
<!--
BEGIN QUESTION
name: q1
points: 1
manual: false
-->
<div class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>fruit_info[<span class="st">'rank1'</span>] <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">2</span>] <span class="co"># SOLUTION</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="co"># print</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>fruit_info</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="14">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">fruit</th>
<th data-quarto-table-cell-role="th">color</th>
<th data-quarto-table-cell-role="th">rank1</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>apple</td>
<td>red</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>orange</td>
<td>orange</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>banana</td>
<td>yellow</td>
<td>4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>raspberry</td>
<td>pink</td>
<td>2</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>grader.check(<span class="st">"q1"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now, create a new dataframe <code>fruit_info_mod1</code> with the same information as <code>fruit_info_original</code>, but has the additional column <code>rank2</code>. Let’s start off with making <code>fruit_info_mod1</code> as a copy of <code>fruit_info</code>:</p>
<div class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>fruit_info_mod1 <span class="op">=</span> fruit_info.copy()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="question-2" class="level3">
<h3 class="anchored" data-anchor-id="question-2">Question 2</h3>
<p>Using <code>.loc[]</code>, add a column called <code>rank2</code> to the <code>fruit_info_mod1</code> table that contains the same values in the same order as the <code>rank1</code> column.</p>
<p><em>Hint</em>: <code>.loc</code> will parse <code>:</code> as shorthand for ‘all indices’.</p>
<!--
BEGIN QUESTION
name: q2
points: 1
manual: false
-->
<div class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>fruit_info_mod1.loc[:, <span class="st">'rank2'</span>]  <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">2</span>] <span class="co">#SOLUTION</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="co"># print</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>fruit_info_mod1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="21">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">fruit</th>
<th data-quarto-table-cell-role="th">color</th>
<th data-quarto-table-cell-role="th">rank1</th>
<th data-quarto-table-cell-role="th">rank2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>apple</td>
<td>red</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>orange</td>
<td>orange</td>
<td>3</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>banana</td>
<td>yellow</td>
<td>4</td>
<td>4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>raspberry</td>
<td>pink</td>
<td>2</td>
<td>2</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>grader.check(<span class="st">"q2"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>When using the <code>.loc[]</code> approach, the <code>:</code> specifies that values are assigned to all rows of the data frame, so the array assigned to the new variable must be the same length as the data frame. What if we only assign values to certain rows? Try running the cell below.</p>
<div class="cell" data-tags="[]" data-execution_count="24">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># define new variable just for rows 1 and 2</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>fruit_info_mod1.loc[<span class="dv">1</span>:<span class="dv">2</span>, <span class="st">'rank3'</span>] <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>]</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="co"># check result</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>fruit_info_mod1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="24">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">fruit</th>
<th data-quarto-table-cell-role="th">color</th>
<th data-quarto-table-cell-role="th">rank1</th>
<th data-quarto-table-cell-role="th">rank2</th>
<th data-quarto-table-cell-role="th">rank3</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>apple</td>
<td>red</td>
<td>1</td>
<td>1</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>orange</td>
<td>orange</td>
<td>3</td>
<td>3</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>banana</td>
<td>yellow</td>
<td>4</td>
<td>4</td>
<td>2.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>raspberry</td>
<td>pink</td>
<td>2</td>
<td>2</td>
<td>NaN</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>The remaining rows are assigned missing values. Notice what this does to the data type:</p>
<div class="cell" data-tags="[]" data-execution_count="25">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># check data types</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>fruit_info_mod1.dtypes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="25">
<pre><code>fruit     object
color     object
rank1      int64
rank2      int64
rank3    float64
dtype: object</code></pre>
</div>
</div>
<p>We can detect these missing values using <code>.isna()</code>:</p>
<div class="cell" data-tags="[]" data-execution_count="26">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># returns a logical data frame indicating whether each entry is missing or not</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>fruit_info_mod1.isna()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="26">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">fruit</th>
<th data-quarto-table-cell-role="th">color</th>
<th data-quarto-table-cell-role="th">rank1</th>
<th data-quarto-table-cell-role="th">rank2</th>
<th data-quarto-table-cell-role="th">rank3</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>True</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>True</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>It would be more helpful to simply see by column whether there are missing values. Appending a <code>.any()</code> to the above command will do the trick:</p>
<div class="cell" data-tags="[]" data-execution_count="27">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># detects whether any column has missing entries</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>fruit_info_mod1.isna().<span class="bu">any</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="27">
<pre><code>fruit    False
color    False
rank1    False
rank2    False
rank3     True
dtype: bool</code></pre>
</div>
</div>
<p>Now that we’ve had a bit of fun let’s remove those rank variables. Columns can be removed using <code>.drop()</code> with a list of column names to drop as its argument. For example:</p>
<div class="cell" data-tags="[]" data-execution_count="28">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># first syntax for .drop()</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>fruit_info_mod1.drop(columns <span class="op">=</span> <span class="st">'color'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="28">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">fruit</th>
<th data-quarto-table-cell-role="th">rank1</th>
<th data-quarto-table-cell-role="th">rank2</th>
<th data-quarto-table-cell-role="th">rank3</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>apple</td>
<td>1</td>
<td>1</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>orange</td>
<td>3</td>
<td>3</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>banana</td>
<td>4</td>
<td>4</td>
<td>2.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>raspberry</td>
<td>2</td>
<td>2</td>
<td>NaN</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>There is an alternate syntax to that shown above, which involves specifying the <code>axis</code> (row vs.&nbsp;column) and index name to drop:</p>
<div class="cell" data-tags="[]" data-execution_count="29">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># second syntax for .drop()</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>fruit_info_mod1.drop(<span class="st">'color'</span>, axis <span class="op">=</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="29">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">fruit</th>
<th data-quarto-table-cell-role="th">rank1</th>
<th data-quarto-table-cell-role="th">rank2</th>
<th data-quarto-table-cell-role="th">rank3</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>apple</td>
<td>1</td>
<td>1</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>orange</td>
<td>3</td>
<td>3</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>banana</td>
<td>4</td>
<td>4</td>
<td>2.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>raspberry</td>
<td>2</td>
<td>2</td>
<td>NaN</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="question-3" class="level3">
<h3 class="anchored" data-anchor-id="question-3">Question 3</h3>
<p>Use the <code>.drop()</code> method to drop all <code>rank</code> columns you created in <code>fruit_info_mod1</code>. Note that <code>drop</code> <strong>does not change the table</strong>, but instead <strong>returns a new table</strong> with fewer columns or rows. To store the result, assign a new name (or write over the old dataframe). Here, assign the result to <code>fruit_info_original</code>.</p>
<p><em>Hint</em>: Look through the <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.drop.html">documentation</a> to see how you can drop multiple columns of a Pandas dataframe at once using a list of column names.</p>
<!--
BEGIN QUESTION
name: q3
points: 1
manual: false
-->
<div class="cell" data-tags="[]" data-execution_count="30">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>fruit_info_original <span class="op">=</span> fruit_info_mod1.drop(columns <span class="op">=</span> [<span class="st">'rank1'</span>, <span class="st">'rank2'</span>, <span class="st">'rank3'</span>]) <span class="co">#SOLUTION</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="co"># print</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>fruit_info_original</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="30">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">fruit</th>
<th data-quarto-table-cell-role="th">color</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>apple</td>
<td>red</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>orange</td>
<td>orange</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>banana</td>
<td>yellow</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>raspberry</td>
<td>pink</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>grader.check(<span class="st">"q3"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><em>Nifty trick</em>: Use <code>df.columns[df.columns.str.startswith('STRING')]</code> to retrieve all indices starting with <code>STRING</code> and <code>ix.values.tolist()</code> to convert an index to an array of index names to obtain a list of column names to drop. Combining these gives <code>df.columns[df.columns.str.startswith('STRING')].values.tolist()</code>, and will return a list of all column names starting with <code>STRING</code>. This can be used in conjunction with the hint to remove all columns starting with <code>rank</code>.</p>
<div class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># try the nifty trick here</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now create a new dataframe <code>fruit_info_mod2</code>with the same information as <code>fruit_info_original</code>, but has the column names capitalized. Begin by creating a copy <code>fruit_info_mod2</code> of <code>fruit_info_original</code>:</p>
<div class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>fruit_info_mod2 <span class="op">=</span> fruit_info_original.copy()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="question-4" class="level3">
<h3 class="anchored" data-anchor-id="question-4">Question 4</h3>
<p>Review the <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.rename.html">documentation</a> for <code>.rename()</code>. Based on the examples, rename the columns of <code>fruit_info_mod2</code> so they begin with capital letters.</p>
<p>For many operations, you can change the dataframe ‘in place’ without reassigning the result of the operation to a new name by setting the <code>inplace</code> parameter to <code>True</code>. Use that strategy here.</p>
<!--
BEGIN QUESTION
name: q4
points: 1
manual: false
-->
<div class="cell" data-scrolled="true" data-execution_count="36">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>fruit_info_mod2.rename(columns <span class="op">=</span> {<span class="st">'fruit'</span>: <span class="st">'Fruit'</span>, <span class="st">'color'</span>: <span class="st">'Color'</span>}, inplace <span class="op">=</span> <span class="va">True</span>) <span class="co">#SOLUTION</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="co"># print</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>fruit_info_mod2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="36">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Fruit</th>
<th data-quarto-table-cell-role="th">Color</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>apple</td>
<td>red</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>orange</td>
<td>orange</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>banana</td>
<td>yellow</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>raspberry</td>
<td>pink</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>grader.check(<span class="st">"q4"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="operations-on-data-frames" class="level2">
<h2 class="anchored" data-anchor-id="operations-on-data-frames">Operations on Data Frames</h2>
<p>With some basics in place, here you’ll see how to perform subsetting operations on data frames that are useful for tidying up datasets.</p>
<ul>
<li><strong>Slicing</strong>: selecting columns or rows in chunks or by position.
<ul>
<li>Often imported data contain columns that are either superfluous or not of interest for a particular project.</li>
<li>You may also want to examine particular portions of a data frame.</li>
</ul></li>
<li><strong>Filtering</strong>: selecting rows that meet certain criteria
<ul>
<li>Often you’ll want to remove duplicate rows, filter missing observations, or select a structured subset of a data frame.</li>
<li>Also helpful for inspection.</li>
</ul></li>
</ul>
<p>To illustrate these operations, you’ll use a dataset comprising counts of the given names of babies born in California each year from 1990 - 2018. The cell below imports the baby names data as a data frame from a .csv file. <code>.head()</code> prints the first few rows of the dataset.</p>
<div class="cell" data-tags="[]" data-execution_count="39">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># import baby names data</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>baby_names <span class="op">=</span> pd.read_csv(<span class="st">'data/baby_names.csv'</span>)</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="co"># preview first few rows</span></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>baby_names.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="39">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">State</th>
<th data-quarto-table-cell-role="th">Sex</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>CA</td>
<td>F</td>
<td>1990</td>
<td>Jessica</td>
<td>6635</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>CA</td>
<td>F</td>
<td>1990</td>
<td>Ashley</td>
<td>4537</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>CA</td>
<td>F</td>
<td>1990</td>
<td>Stephanie</td>
<td>4001</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>CA</td>
<td>F</td>
<td>1990</td>
<td>Amanda</td>
<td>3856</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>CA</td>
<td>F</td>
<td>1990</td>
<td>Jennifer</td>
<td>3611</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Your focus here isn’t on analyzing this data, so we won’t ask you to spend too much effort getting acquainted with it. However, a brief inspection is always a good idea. Let’s check:</p>
<ul>
<li>dimensions (number of rows and columns);</li>
<li>how many distinct states, sexes, and years.</li>
</ul>
<p>Note that the above dataframe displayed is a preview of the full dataframe.</p>
<section id="question-5" class="level3">
<h3 class="anchored" data-anchor-id="question-5">Question 5</h3>
<p>You’ve already seen how to examine dimensions using dataframe attributes. Check the dimensions of <code>baby_names</code> and store them in <code>dimensions_baby_names</code>.</p>
<!--
BEGIN QUESTION
name: q5
points: 1
manual: false
-->
<div class="cell" data-tags="[]" data-execution_count="40">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>dimensions_baby_names <span class="op">=</span> baby_names.shape <span class="co">#SOLUTION</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>grader.check(<span class="st">"q5"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You haven’t yet seen how to retrieve the distinct values of an array or series, without duplicates. There are a few different ways to go about this, but one is to count the number of occurrences of each distinct entry in a column. This can be done by retrieving the column as a series using syntax of the form <code>df.colname</code>, and then pass the result to <code>.value_counts()</code>:</p>
<div class="cell" data-tags="[]" data-execution_count="43">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># count distinct values</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>baby_names.Sex.value_counts()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="43">
<pre><code>F    112196
M     78566
Name: Sex, dtype: int64</code></pre>
</div>
</div>
</section>
<section id="question-6" class="level3">
<h3 class="anchored" data-anchor-id="question-6">Question 6</h3>
<p>Count the number of occurences of each distinct year. Create a series <code>occur_per_year</code> that displays the number of occurrences, ordered by year (so that the years are displayed in order). If you add <code>sort = False</code> as an argument to <code>value_counts</code>, the distinct values will be displayed in the order they appear in the dataset.</p>
<p>How many years are represented in the dataset? Store your answer as <code>num_years</code>.</p>
<!--
BEGIN QUESTION
name: q6
points: 1
manual: false
-->
<div class="cell" data-tags="[]" data-execution_count="44">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>occur_per_year <span class="op">=</span> baby_names.Year.value_counts(sort <span class="op">=</span> <span class="va">False</span>) <span class="co">#SOLUTION </span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>num_years <span class="op">=</span> <span class="bu">len</span>(occur_per_year) <span class="co">#SOLUTION</span></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(occur_per_year)</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(num_years)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>1990    6261
1991    6226
1992    6304
1993    6314
1994    6241
1995    6092
1996    6036
1997    5961
1998    5976
1999    6052
2000    6284
2001    6333
2002    6414
2003    6533
2004    6708
2005    6874
2006    7075
2007    7250
2008    7158
2009    7119
2010    7010
2011    6880
2012    7007
2013    6861
2014    6952
2015    6871
2016    6770
2017    6684
2018    6516
Name: Year, dtype: int64
29</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>grader.check(<span class="st">"q6"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="slicing-selecting-rows-and-columns" class="level3">
<h3 class="anchored" data-anchor-id="slicing-selecting-rows-and-columns">Slicing: selecting rows and columns</h3>
<p>There are two fast and simple ways to slice dataframes:</p>
<ul>
<li>using <code>.loc</code> to specify rows and columns by index;</li>
<li>using <code>.iloc</code> to specify rows and columns by position.</li>
</ul>
<p>You have seen simple examples of both of these above. Here we’ll show how to use these two commands to retrieve multiple rows and columns.</p>
<section id="slicing-with-.loc-specifying-index-names" class="level4">
<h4 class="anchored" data-anchor-id="slicing-with-.loc-specifying-index-names">Slicing with <code>.loc</code>: specifying index names</h4>
<p>This method retrieves entries by specifying row and column indexes using syntax of the form <code>df.loc[rows, cols]</code>. The rows and columns can be single indices, a list of indices, or a set of adjacent indices using a colon <code>:</code>. Examples of these usages are shown below.</p>
<div class="cell" data-tags="[]" data-execution_count="50">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co"># single indices -- small slice</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>baby_names.loc[<span class="dv">2</span>, <span class="st">'Name'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="50">
<pre><code>'Stephanie'</code></pre>
</div>
</div>
<div class="cell" data-tags="[]" data-execution_count="51">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co"># a list of indices -- larger slice</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>baby_names.loc[[<span class="dv">2</span>, <span class="dv">3</span>], [<span class="st">'Name'</span>, <span class="st">'Count'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="51">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Stephanie</td>
<td>4001</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Amanda</td>
<td>3856</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell" data-tags="[]" data-execution_count="52">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># consecutive indices -- a chunk</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>baby_names.loc[<span class="dv">2</span>:<span class="dv">10</span>, <span class="st">'Year'</span>:<span class="st">'Count'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="52">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>1990</td>
<td>Stephanie</td>
<td>4001</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>1990</td>
<td>Amanda</td>
<td>3856</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>1990</td>
<td>Jennifer</td>
<td>3611</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>1990</td>
<td>Elizabeth</td>
<td>3170</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>1990</td>
<td>Sarah</td>
<td>2843</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>1990</td>
<td>Brittany</td>
<td>2737</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>1990</td>
<td>Samantha</td>
<td>2720</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>1990</td>
<td>Michelle</td>
<td>2453</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">10</td>
<td>1990</td>
<td>Melissa</td>
<td>2442</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
</section>
<section id="slicing-with-.iloc-specifying-entry-positions" class="level3">
<h3 class="anchored" data-anchor-id="slicing-with-.iloc-specifying-entry-positions">Slicing with <code>.iloc</code>: specifying entry positions</h3>
<p>An alternative to specifying the indices in order to slice a dataframe is to specify the entry positions using <code>.iloc</code> (‘<strong>i</strong>nteger <strong>loc</strong>ation’). You have seen an example of this too. As with <code>.loc</code>, <code>.iloc</code> can be used to select multiple rows/columns using either lists of positions or a consecutive set with <code>from:to</code> syntax.</p>
<div class="cell" data-tags="[]" data-execution_count="53">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co"># single position</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>baby_names.iloc[<span class="dv">2</span>, <span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="53">
<pre><code>'Stephanie'</code></pre>
</div>
</div>
<div class="cell" data-tags="[]" data-execution_count="54">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co"># a list of positions</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>baby_names.iloc[[<span class="dv">2</span>, <span class="dv">3</span>], [<span class="dv">3</span>, <span class="dv">4</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="54">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Stephanie</td>
<td>4001</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Amanda</td>
<td>3856</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell" data-tags="[]" data-execution_count="55">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># consecutive positions</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>baby_names.iloc[<span class="dv">2</span>:<span class="dv">11</span>, <span class="dv">2</span>:<span class="dv">5</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="55">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>1990</td>
<td>Stephanie</td>
<td>4001</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>1990</td>
<td>Amanda</td>
<td>3856</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>1990</td>
<td>Jennifer</td>
<td>3611</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>1990</td>
<td>Elizabeth</td>
<td>3170</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>1990</td>
<td>Sarah</td>
<td>2843</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>1990</td>
<td>Brittany</td>
<td>2737</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>1990</td>
<td>Samantha</td>
<td>2720</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>1990</td>
<td>Michelle</td>
<td>2453</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">10</td>
<td>1990</td>
<td>Melissa</td>
<td>2442</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>While these commands may look very similar to their <code>.loc</code> analogs, there are some subtle but important differences. The row selection looks nearly identical, but recall that <code>.loc</code> uses the index and <code>.iloc</code> uses the position; they look so similar because typically index and position coincide.</p>
<p>However, sorting the <code>baby_names</code> dataframe helps to reveal how the <em>position</em> of a row is not necessarily equal to the <em>index</em> of a row. For example, the first row is not necessarily the row associated with index 1. This distinction is important in understanding the difference between <code>.loc[]</code> and <code>.iloc[]</code>.</p>
<div class="cell" data-tags="[]" data-execution_count="56">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># sort and display</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>sorted_baby_names <span class="op">=</span> baby_names.sort_values(by<span class="op">=</span>[<span class="st">'Name'</span>])</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>sorted_baby_names.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="56">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">State</th>
<th data-quarto-table-cell-role="th">Sex</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">160797</td>
<td>CA</td>
<td>M</td>
<td>2008</td>
<td>Aadan</td>
<td>7</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">178791</td>
<td>CA</td>
<td>M</td>
<td>2014</td>
<td>Aadan</td>
<td>5</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">163914</td>
<td>CA</td>
<td>M</td>
<td>2009</td>
<td>Aadan</td>
<td>6</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">171112</td>
<td>CA</td>
<td>M</td>
<td>2012</td>
<td>Aaden</td>
<td>38</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">179928</td>
<td>CA</td>
<td>M</td>
<td>2015</td>
<td>Aaden</td>
<td>34</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Here is an example of how we would get the 2nd, 3rd, and 4th rows with only the <code>Name</code> column of the <code>baby_names</code> dataframe using both <code>iloc[]</code> and <code>loc[]</code>. Observe the difference, especially after sorting <code>baby_names</code> by name.</p>
<div class="cell" data-tags="[]" data-execution_count="57">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># example iloc usage</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>sorted_baby_names.iloc[<span class="dv">1</span>:<span class="dv">4</span>, <span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="57">
<pre><code>178791    Aadan
163914    Aadan
171112    Aaden
Name: Name, dtype: object</code></pre>
</div>
</div>
<p>Notice that using <code>loc[]</code> with 1:4 gives different results, since it selects using the <em>index</em>. The <em>index</em> gets moved around when you perform an operation like <code>sort</code> on the dataframe.</p>
<div class="cell" data-tags="[]" data-execution_count="58">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="co"># same syntax, different result</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>sorted_baby_names.loc[<span class="dv">1</span>:<span class="dv">4</span>, <span class="st">"Name"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="58">
<pre><code>1           Ashley
22219       Ashley
138598      Ashley
151978      Ashley
120624      Ashley
            ...   
74380       Jennie
19395       Jennie
23061       Jennie
91825       Jennie
4         Jennifer
Name: Name, Length: 68640, dtype: object</code></pre>
</div>
</div>
<p>Above, the <code>.loc</code> method retrieves all indexes between index 1 and index 4 <em>in the order they appear in the sorted dataset</em>. If instead we want to retrieve the same rows returned by the <code>.iloc</code> command, we need to specify the row indices explicitly as a list:</p>
<div class="cell" data-tags="[]" data-execution_count="59">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="co"># retrieve the same rows as iloc using loc</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>sorted_baby_names.loc[[<span class="dv">178791</span>, <span class="dv">163914</span>, <span class="dv">171112</span>], <span class="st">'Name'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="59">
<pre><code>178791    Aadan
163914    Aadan
171112    Aaden
Name: Name, dtype: object</code></pre>
</div>
</div>
<p>Sometimes it’s useful for slicing (and other operations) to set one of the columns to be a row index, effectively treating one column as a collection of row labels. This can be accomplished using <code>set_index</code>.</p>
<div class="cell" data-tags="[]" data-execution_count="60">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="co"># change the (row) index from 0,1,2,... to the name column</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>baby_names_nameindexed <span class="op">=</span> baby_names.set_index(<span class="st">"Name"</span>) </span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>baby_names_nameindexed.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="60">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">State</th>
<th data-quarto-table-cell-role="th">Sex</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Count</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Jessica</td>
<td>CA</td>
<td>F</td>
<td>1990</td>
<td>6635</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Ashley</td>
<td>CA</td>
<td>F</td>
<td>1990</td>
<td>4537</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Stephanie</td>
<td>CA</td>
<td>F</td>
<td>1990</td>
<td>4001</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Amanda</td>
<td>CA</td>
<td>F</td>
<td>1990</td>
<td>3856</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Jennifer</td>
<td>CA</td>
<td>F</td>
<td>1990</td>
<td>3611</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>We can now slice by name directly:</p>
<div class="cell" data-tags="[]" data-execution_count="61">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="co"># slice rows for ashley and jennifer</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>baby_names_nameindexed.loc[[<span class="st">'Ashley'</span>, <span class="st">'Jennifer'</span>], :]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="61">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">State</th>
<th data-quarto-table-cell-role="th">Sex</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Count</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Ashley</td>
<td>CA</td>
<td>F</td>
<td>1990</td>
<td>4537</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Ashley</td>
<td>CA</td>
<td>F</td>
<td>1991</td>
<td>4233</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Ashley</td>
<td>CA</td>
<td>F</td>
<td>1992</td>
<td>3966</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Ashley</td>
<td>CA</td>
<td>F</td>
<td>1993</td>
<td>3591</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Ashley</td>
<td>CA</td>
<td>F</td>
<td>1994</td>
<td>3202</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Jennifer</td>
<td>CA</td>
<td>M</td>
<td>1998</td>
<td>10</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Jennifer</td>
<td>CA</td>
<td>M</td>
<td>1999</td>
<td>12</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Jennifer</td>
<td>CA</td>
<td>M</td>
<td>2000</td>
<td>10</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Jennifer</td>
<td>CA</td>
<td>M</td>
<td>2001</td>
<td>8</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Jennifer</td>
<td>CA</td>
<td>M</td>
<td>2002</td>
<td>7</td>
</tr>
</tbody>
</table>

<p>88 rows Ã— 4 columns</p>
</div>
</div>
</div>
</section>
<section id="question-7" class="level3">
<h3 class="anchored" data-anchor-id="question-7">Question 7</h3>
<p>Look up the name of a friend! Store the name as <code>friend_name</code>. Use the name-indexed data frame to slice rows for the name of your choice and the <code>Count</code>, <code>Sex</code>, and <code>Year</code> columns <strong>in that order</strong>, and store the data frame as <code>friend_slice</code>.</p>
<!--
BEGIN QUESTION
name: q7
points: 1
manual: false
-->
<div class="cell" data-execution_count="62">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="co"># if your friend's name is not in the database, use another name</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>friend_name <span class="op">=</span> <span class="st">"Trevor"</span> <span class="co"># SOLUTION</span></span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>friend_slice <span class="op">=</span> baby_names_nameindexed.loc[<span class="st">"Trevor"</span>, [<span class="st">'Count'</span>, <span class="st">'Sex'</span>, <span class="st">'Year'</span>]] <span class="co">#SOLUTION</span></span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a><span class="co">#print</span></span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a>friend_slice</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="62">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Count</th>
<th data-quarto-table-cell-role="th">Sex</th>
<th data-quarto-table-cell-role="th">Year</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Trevor</td>
<td>5</td>
<td>F</td>
<td>1990</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Trevor</td>
<td>823</td>
<td>M</td>
<td>1990</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Trevor</td>
<td>836</td>
<td>M</td>
<td>1991</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Trevor</td>
<td>897</td>
<td>M</td>
<td>1992</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Trevor</td>
<td>737</td>
<td>M</td>
<td>1993</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Trevor</td>
<td>675</td>
<td>M</td>
<td>1994</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Trevor</td>
<td>682</td>
<td>M</td>
<td>1995</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Trevor</td>
<td>609</td>
<td>M</td>
<td>1996</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Trevor</td>
<td>590</td>
<td>M</td>
<td>1997</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Trevor</td>
<td>647</td>
<td>M</td>
<td>1998</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Trevor</td>
<td>673</td>
<td>M</td>
<td>1999</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Trevor</td>
<td>545</td>
<td>M</td>
<td>2000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Trevor</td>
<td>535</td>
<td>M</td>
<td>2001</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Trevor</td>
<td>488</td>
<td>M</td>
<td>2002</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Trevor</td>
<td>425</td>
<td>M</td>
<td>2003</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Trevor</td>
<td>369</td>
<td>M</td>
<td>2004</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Trevor</td>
<td>372</td>
<td>M</td>
<td>2005</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Trevor</td>
<td>335</td>
<td>M</td>
<td>2006</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Trevor</td>
<td>302</td>
<td>M</td>
<td>2007</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Trevor</td>
<td>281</td>
<td>M</td>
<td>2008</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Trevor</td>
<td>252</td>
<td>M</td>
<td>2009</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Trevor</td>
<td>219</td>
<td>M</td>
<td>2010</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Trevor</td>
<td>194</td>
<td>M</td>
<td>2011</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Trevor</td>
<td>161</td>
<td>M</td>
<td>2012</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Trevor</td>
<td>142</td>
<td>M</td>
<td>2013</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Trevor</td>
<td>126</td>
<td>M</td>
<td>2014</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Trevor</td>
<td>114</td>
<td>M</td>
<td>2015</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Trevor</td>
<td>103</td>
<td>M</td>
<td>2016</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Trevor</td>
<td>90</td>
<td>M</td>
<td>2017</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Trevor</td>
<td>78</td>
<td>M</td>
<td>2018</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>grader.check(<span class="st">"q7"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="filtering" class="level2">
<h2 class="anchored" data-anchor-id="filtering">Filtering</h2>
<p>Filtering is sifting out rows according to a criterion, and can be accomplished using an array or series of <code>True</code>s and <code>False</code>s defined by a comparison. To take a simple example, say you wanted to filter out all names with fewer than 1000 occurrences. First you could define a logical series:</p>
<div class="cell" data-tags="[]" data-execution_count="69">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="co"># true if filtering criterion is met, false otherwise</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>arr <span class="op">=</span> baby_names.Count <span class="op">&gt;</span> <span class="dv">1000</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Then you can filter using that array:</p>
<div class="cell" data-tags="[]" data-execution_count="70">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="co"># filter</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>baby_names_filtered <span class="op">=</span> baby_names[arr]</span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>baby_names_filtered.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="70">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">State</th>
<th data-quarto-table-cell-role="th">Sex</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>CA</td>
<td>F</td>
<td>1990</td>
<td>Jessica</td>
<td>6635</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>CA</td>
<td>F</td>
<td>1990</td>
<td>Ashley</td>
<td>4537</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>CA</td>
<td>F</td>
<td>1990</td>
<td>Stephanie</td>
<td>4001</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>CA</td>
<td>F</td>
<td>1990</td>
<td>Amanda</td>
<td>3856</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>CA</td>
<td>F</td>
<td>1990</td>
<td>Jennifer</td>
<td>3611</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Notice that the filtered array is much smaller than the overall array – only about 2000 rows correspond to a name occurring more than 1000 times in a year for a gender.</p>
<div class="cell" data-tags="[]" data-execution_count="71">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="co"># compare dimensions</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(baby_names_filtered.shape)</span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(baby_names.shape)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(2517, 5)
(190762, 5)</code></pre>
</div>
</div>
<p>You have already encountered this concept in lab 0 when subsetting an array. For your reference, some commonly used comparison operators are given below.</p>
<table class="table">
<thead>
<tr class="header">
<th>Symbol</th>
<th>Usage</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>==</code></td>
<td><code>a == b</code></td>
<td>Does a equal b?</td>
</tr>
<tr class="even">
<td><code>&lt;=</code></td>
<td><code>a &lt;= b</code></td>
<td>Is a less than or equal to b?</td>
</tr>
<tr class="odd">
<td><code>&gt;=</code></td>
<td><code>a &gt;= b</code></td>
<td>Is a greater than or equal to b?</td>
</tr>
<tr class="even">
<td><code>&lt;</code></td>
<td><code>a &lt; b</code></td>
<td>Is a less than b?</td>
</tr>
<tr class="odd">
<td><code>&gt;</code></td>
<td><code>a &gt; b</code></td>
<td>Is a greater than b?</td>
</tr>
<tr class="even">
<td><code>~</code></td>
<td><code>~p</code></td>
<td>Returns negation of p</td>
</tr>
<tr class="odd">
<td><code>|</code></td>
<td><code>p</code> <code>|</code> <code>q</code></td>
<td>p OR q</td>
</tr>
<tr class="even">
<td><code>&amp;</code></td>
<td><code>p &amp; q</code></td>
<td>p AND q</td>
</tr>
<tr class="odd">
<td><code>^</code></td>
<td><code>p ^ q</code></td>
<td>p XOR q (exclusive or)</td>
</tr>
</tbody>
</table>
<p>What if instead you wanted to filter using multiple conditions? Here’s an example of retrieving rows with counts exceeding 1000 for only the year 2001:</p>
<div class="cell" data-tags="[]" data-execution_count="72">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="co"># filter using two conditions</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>baby_names[(baby_names.Year <span class="op">==</span> <span class="dv">2000</span>) <span class="op">&amp;</span> (baby_names.Count <span class="op">&gt;</span> <span class="dv">1000</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="72">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">State</th>
<th data-quarto-table-cell-role="th">Sex</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">36416</td>
<td>CA</td>
<td>F</td>
<td>2000</td>
<td>Emily</td>
<td>2958</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">36417</td>
<td>CA</td>
<td>F</td>
<td>2000</td>
<td>Ashley</td>
<td>2831</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">36418</td>
<td>CA</td>
<td>F</td>
<td>2000</td>
<td>Samantha</td>
<td>2579</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">36419</td>
<td>CA</td>
<td>F</td>
<td>2000</td>
<td>Jessica</td>
<td>2484</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">36420</td>
<td>CA</td>
<td>F</td>
<td>2000</td>
<td>Jennifer</td>
<td>2263</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">137298</td>
<td>CA</td>
<td>M</td>
<td>2000</td>
<td>Oscar</td>
<td>1089</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">137299</td>
<td>CA</td>
<td>M</td>
<td>2000</td>
<td>Thomas</td>
<td>1061</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">137300</td>
<td>CA</td>
<td>M</td>
<td>2000</td>
<td>Cameron</td>
<td>1052</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">137301</td>
<td>CA</td>
<td>M</td>
<td>2000</td>
<td>Austin</td>
<td>1010</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">137302</td>
<td>CA</td>
<td>M</td>
<td>2000</td>
<td>Richard</td>
<td>1001</td>
</tr>
</tbody>
</table>

<p>98 rows Ã— 5 columns</p>
</div>
</div>
</div>
<section id="question-8" class="level3">
<h3 class="anchored" data-anchor-id="question-8">Question 8</h3>
<p>Select the girl names in 2010 that were given more than 3000 times, and store them as <code>common_girl_names_2010</code>.</p>
<p><em>Note:</em> Any time you use <code>p &amp; q</code> to filter the dataframe, make sure to use <code>df[df[(p) &amp; (q)]]</code> or <code>df.loc[df[(p) &amp; (q)]])</code>. That is, make sure to wrap conditions with parentheses to ensure the intended order of operations.</p>
<!--
BEGIN QUESTION
name: q8
points: 1
manual: false
-->
<div class="cell" data-execution_count="73">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>common_girl_names_2010 <span class="op">=</span> baby_names[(baby_names.Sex <span class="op">==</span> <span class="st">'F'</span>) <span class="op">&amp;</span> (baby_names.Year <span class="op">==</span> <span class="dv">2010</span>) <span class="op">&amp;</span> (baby_names.Count <span class="op">&gt;</span> <span class="dv">3000</span>)] <span class="co">#SOLUTION</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>common_girl_names_2010</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="73">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">State</th>
<th data-quarto-table-cell-role="th">Sex</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">76793</td>
<td>CA</td>
<td>F</td>
<td>2010</td>
<td>Isabella</td>
<td>3368</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">76794</td>
<td>CA</td>
<td>F</td>
<td>2010</td>
<td>Sophia</td>
<td>3361</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>grader.check(<span class="st">"q8"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="grouping-and-aggregation" class="level2">
<h2 class="anchored" data-anchor-id="grouping-and-aggregation">Grouping and aggregation</h2>
<p>Grouping and aggregation are useful in generating data summaries, which are often important starting points in exploring a dataset.</p>
<section id="aggregation" class="level3">
<h3 class="anchored" data-anchor-id="aggregation">Aggregation</h3>
<p><strong>Aggregation</strong> literally means ‘putting together’ (etymologically the word means ‘joining the herd’) – in statistics and data science, this refers to data summaries like an average, a minimum, or a measure of spread such as the sample variance or mean absolute deviation (data herding!). From a technical point of view, operations that take multiple values as inputs and return a single output are considered summaries – in other words, statistics. Some of the most common aggregations are:</p>
<ul>
<li>sum</li>
<li>product</li>
<li>count</li>
<li>number of distinct values</li>
<li>mean</li>
<li>median</li>
<li>variance</li>
<li>standard deviation</li>
<li>minimum/maximum</li>
<li>quantiles</li>
</ul>
<p>Pandas has built-in dataframe operations that compute most of these summaries across either axis (column-wise or row-wise):</p>
<ul>
<li><code>.sum()</code></li>
<li><code>.prod()</code></li>
<li><code>.mean()</code></li>
<li><code>.median()</code></li>
<li><code>.var()</code></li>
<li><code>.std()</code></li>
<li><code>.nunique()</code></li>
<li><code>.min()</code> and <code>.max()</code></li>
<li><code>.quantile()</code></li>
</ul>
<p>To illustrate these operations, let’s filter out all names in 1995.</p>
<div class="cell" data-tags="[]" data-execution_count="78">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="co"># filter 1995 names</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>names_95 <span class="op">=</span> baby_names[baby_names.Year <span class="op">==</span> <span class="dv">1995</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>How many individuals were counted in total in 1995? We can address that by computing a sum of the counts:</p>
<div class="cell" data-tags="[]" data-execution_count="79">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="co"># n for 1995</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>names_95.Count.<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="79">
<pre><code>494580</code></pre>
</div>
</div>
<p>What is the typical frequency of all names in 1995? We can address that by computing the average count:</p>
<div class="cell" data-tags="[]" data-execution_count="80">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="co"># average count for a name in 1995</span></span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>names_95.Count.mean()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="80">
<pre><code>81.18516086671043</code></pre>
</div>
</div>
</section>
<section id="question-9" class="level3">
<h3 class="anchored" data-anchor-id="question-9">Question 9</h3>
<p>Find how often the most common name 1995 was given and store this as <code>names_95_max_count</code>. Use this value to filter <code>names_95</code> and find which name was most common that year. Store the filtered dataframe as <code>names_95_most_common_name</code>.</p>
<!--
BEGIN QUESTION
name: q9
points: 1
manual: false
-->
<div class="cell" data-tags="[]" data-execution_count="81">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>names_95_max_count <span class="op">=</span> names_95.Count.<span class="bu">max</span>() <span class="co">#SOLUTION</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>names_95_most_common_name <span class="op">=</span> (names_95.loc[names_95.Count <span class="op">==</span> names_95.Count.<span class="bu">max</span>(),  <span class="st">'Name'</span>]) <span class="co">#SOLUTION</span></span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Number of people with the most frequent name in 1995 is :"</span>, names_95_max_count, <span class="st">"people"</span>)</span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Most frequent name in 1995 is:"</span>, names_95_most_common_name.values[<span class="dv">0</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Number of people with the most frequent name in 1995 is : 5003 people
Most frequent name in 1995 is: Daniel</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>grader.check(<span class="st">"q9"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Caution!</strong> If applied to the entire dataframe, the operation <code>df.max()</code> (or any other aggregation) will return the maximum <em>of each column</em>. Notice that the cell below does not return the row you found just now, but could easily be misinterpreted as such. The cell <strong>does</strong> tell you that the maximum value of sex (alphabetically last) is M and the maximum name (alphabetically last) is Zyanya and the maximum count is 5003; it <strong>does not</strong> tell you that 5003 boys were named Zyanya in 1995.</p>
<div class="cell" data-tags="[]" data-execution_count="86">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="co"># maximum of each variable</span></span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>names_95.<span class="bu">max</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="86">
<pre><code>State        CA
Sex           M
Year       1995
Name     Zyanya
Count      5003
dtype: object</code></pre>
</div>
</div>
</section>
<section id="grouping" class="level3">
<h3 class="anchored" data-anchor-id="grouping">Grouping</h3>
<p>What if you want to know the most frequent male and female names? If so, you’ll need to repeat the above operations group-wise by sex.</p>
<p>In general, any variable in a dataframe can be used to define a grouping structure on the rows (or, less commonly, columns). After grouping, any dataframe operations will be executed within each group, but not across groups. This can be used to generate grouped summaries, such as the maximum count for boys and girls; as a point of terminology, we’d describe this summary as ‘maximum count by sex’.</p>
<p>The <code>.groupby()</code> function defines such a structure; here is the <a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.groupby.html">documentation</a>. The cell below groups the <code>names_95</code> dataframe by sex. Notice that when the grouped dataframe is previewed with <code>.head()</code>, the first few rows are returned <em>for each group</em>.</p>
<div class="cell" data-tags="[]" data-execution_count="87">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="co"># grouped dataframe</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>names_95_bysex <span class="op">=</span> names_95.groupby(<span class="st">'Sex'</span>)</span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a><span class="co"># print</span></span>
<span id="cb86-5"><a href="#cb86-5" aria-hidden="true" tabindex="-1"></a>names_95_bysex.head(<span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="87">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">State</th>
<th data-quarto-table-cell-role="th">Sex</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">18604</td>
<td>CA</td>
<td>F</td>
<td>1995</td>
<td>Jessica</td>
<td>4620</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">18605</td>
<td>CA</td>
<td>F</td>
<td>1995</td>
<td>Ashley</td>
<td>2903</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">124938</td>
<td>CA</td>
<td>M</td>
<td>1995</td>
<td>Daniel</td>
<td>5003</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">124939</td>
<td>CA</td>
<td>M</td>
<td>1995</td>
<td>Michael</td>
<td>4783</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Any aggregation operations applied to the grouped dataframe will be applied separately to the rows where <code>Sex == M</code> and the rows where <code>Sex == F</code>. For example, computing <code>.sum()</code> on the grouped dataframe will show the total number of individuals in the data for 1995 <em>by sex</em>:</p>
<div class="cell" data-tags="[]" data-execution_count="88">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="co"># number of individuals by sex</span></span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>names_95_bysex.Count.<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="88">
<pre><code>Sex
F    234552
M    260028
Name: Count, dtype: int64</code></pre>
</div>
</div>
<p>The most frequent boy and girl names can be found using <code>.idxmax()</code> groupwise to obtain the index of the first occurence of the maximum count for each sex, and then slicing with <code>.loc</code>:</p>
<div class="cell" data-tags="[]" data-execution_count="89">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="co"># first most common names by sex</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>names_95.loc[names_95_bysex.Count.idxmax(), :]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="89">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">State</th>
<th data-quarto-table-cell-role="th">Sex</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">18604</td>
<td>CA</td>
<td>F</td>
<td>1995</td>
<td>Jessica</td>
<td>4620</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">124938</td>
<td>CA</td>
<td>M</td>
<td>1995</td>
<td>Daniel</td>
<td>5003</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Since <code>.idxmax()</code> gives the index of the <em>first</em> occurrence, these are the alphabetically first most common names; there could be ties. You know from your work so far that there are no ties for the male names; another filtering step can be used to check for ties among the female names.</p>
<div class="cell" data-tags="[]" data-execution_count="90">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ties?</span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a>names_95[names_95_bysex.Count.<span class="bu">max</span>().values[<span class="dv">0</span>] <span class="op">==</span> names_95[<span class="st">'Count'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="90">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">State</th>
<th data-quarto-table-cell-role="th">Sex</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">18604</td>
<td>CA</td>
<td>F</td>
<td>1995</td>
<td>Jessica</td>
<td>4620</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>So, no ties.</p>
</section>
<section id="question-10" class="level3">
<h3 class="anchored" data-anchor-id="question-10">Question 10</h3>
<p>Are there more girl names or boy names in 1995? Use the grouped dataframe <code>names_95_bysex</code> with the <code>.count()</code> aggregation to find the total number of names for each sex. Store the female and male counts as <code>girl_name_count</code> and <code>boy_name_count</code>, respectfully.</p>
<!--
BEGIN QUESTION
name: q10
points: 1
manual: false
-->
<div class="cell" data-tags="[]" data-execution_count="91">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>girl_name_count <span class="op">=</span> names_95_bysex.Count.count()[<span class="st">'F'</span>] <span class="co">#SOLUTION</span></span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>boy_name_count <span class="op">=</span> names_95_bysex.Count.count()[<span class="st">'M'</span>] <span class="co">#SOLUTION</span></span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a><span class="co">#print</span></span>
<span id="cb91-5"><a href="#cb91-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(girl_name_count)</span>
<span id="cb91-6"><a href="#cb91-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(boy_name_count)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>3614
2478</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a>grader.check(<span class="st">"q10"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="chaining-operations" class="level3">
<h3 class="anchored" data-anchor-id="chaining-operations">Chaining operations</h3>
<p>You have already seen examples of this, but pandas and numpy operations can be chained together in sequence. For example, <code>names_95.Count.max()</code> is a chain with two steps: first select the <code>Count</code> column (<code>.count</code>); then compute the maximum (<code>.max()</code>).</p>
<p>Grouped summaries are often convenient to compute in a chained fashion, rather than by assigning the grouped dataframe a new name and performing operations on the resulting object. For example, finding the total number of boys and girls recorded in the 1995 data can be done with the following chain:</p>
<div class="cell" data-tags="[]" data-execution_count="95">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="co"># repeating previous calculation, more streamlined</span></span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>names_95.groupby(<span class="st">'Sex'</span>).Count.<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="95">
<pre><code>Sex
F    234552
M    260028
Name: Count, dtype: int64</code></pre>
</div>
</div>
<p>We can take this even one step further and also perform the filtering in sequence as part of the chain:</p>
<div class="cell" data-tags="[]" data-execution_count="96">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="co"># longer chain</span></span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>baby_names[baby_names.Year <span class="op">==</span> <span class="dv">1995</span>].groupby(<span class="st">'Sex'</span>).Count.<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="96">
<pre><code>Sex
F    234552
M    260028
Name: Count, dtype: int64</code></pre>
</div>
</div>
<p>Chains can get somewhat long, but they have the advantage of making codes more efficient, and often more readable. We did above in one step what took several lines before. Further, this chain can almost be read aloud:</p>
<p>“Take baby names, filter on year, <em>then</em> group by sex, <em>then</em> select name counts, <em>then</em> compute the sum.”</p>
<p>Let’s now consider computing the average counts of boy and girl names for each year 1990-1995. This can be accomplished by the following chain (notice it is possible to group by multiple variables).</p>
<div class="cell" data-tags="[]" data-execution_count="97">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="co"># average counts by sex and year</span></span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a>baby_names[baby_names.Year <span class="op">&lt;=</span> <span class="dv">1995</span>].groupby([<span class="st">'Year'</span>, <span class="st">'Sex'</span>]).mean(numeric_only <span class="op">=</span> <span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="97">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Count</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Sex</th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td rowspan="2" data-quarto-table-cell-role="th" data-valign="top">1990</td>
<td data-quarto-table-cell-role="th">F</td>
<td>70.085760</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">M</td>
<td>115.231930</td>
</tr>
<tr class="odd">
<td rowspan="2" data-quarto-table-cell-role="th" data-valign="top">1991</td>
<td data-quarto-table-cell-role="th">F</td>
<td>70.380888</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">M</td>
<td>114.608124</td>
</tr>
<tr class="odd">
<td rowspan="2" data-quarto-table-cell-role="th" data-valign="top">1992</td>
<td data-quarto-table-cell-role="th">F</td>
<td>68.744510</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">M</td>
<td>110.601556</td>
</tr>
<tr class="odd">
<td rowspan="2" data-quarto-table-cell-role="th" data-valign="top">1993</td>
<td data-quarto-table-cell-role="th">F</td>
<td>66.330675</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">M</td>
<td>107.896552</td>
</tr>
<tr class="odd">
<td rowspan="2" data-quarto-table-cell-role="th" data-valign="top">1994</td>
<td data-quarto-table-cell-role="th">F</td>
<td>66.426301</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">M</td>
<td>102.967966</td>
</tr>
<tr class="odd">
<td rowspan="2" data-quarto-table-cell-role="th" data-valign="top">1995</td>
<td data-quarto-table-cell-role="th">F</td>
<td>64.900941</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">M</td>
<td>104.934625</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>This display is not ideal. We can ‘pivot’ the table into a wide format by adding a few extra steps in the chain: change the indices to columns; then define a new shape by specifying which column should be the new row index, which should be the new column index, and which values should populate the table.</p>
<div class="cell" data-tags="[]" data-execution_count="98">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="co"># average counts by sex and year</span></span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a>baby_names[baby_names.Year <span class="op">&lt;=</span> <span class="dv">1995</span>].groupby(</span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a>    [<span class="st">'Year'</span>, <span class="st">'Sex'</span>]</span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a>    ).mean(</span>
<span id="cb99-5"><a href="#cb99-5" aria-hidden="true" tabindex="-1"></a>    numeric_only <span class="op">=</span> <span class="va">True</span></span>
<span id="cb99-6"><a href="#cb99-6" aria-hidden="true" tabindex="-1"></a>    ).reset_index().pivot(</span>
<span id="cb99-7"><a href="#cb99-7" aria-hidden="true" tabindex="-1"></a>    index <span class="op">=</span> <span class="st">'Sex'</span>, columns <span class="op">=</span> <span class="st">'Year'</span>, values <span class="op">=</span> <span class="st">'Count'</span></span>
<span id="cb99-8"><a href="#cb99-8" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="98">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">1990</th>
<th data-quarto-table-cell-role="th">1991</th>
<th data-quarto-table-cell-role="th">1992</th>
<th data-quarto-table-cell-role="th">1993</th>
<th data-quarto-table-cell-role="th">1994</th>
<th data-quarto-table-cell-role="th">1995</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Sex</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">F</td>
<td>70.08576</td>
<td>70.380888</td>
<td>68.744510</td>
<td>66.330675</td>
<td>66.426301</td>
<td>64.900941</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">M</td>
<td>115.23193</td>
<td>114.608124</td>
<td>110.601556</td>
<td>107.896552</td>
<td>102.967966</td>
<td>104.934625</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p><strong>Style comment: break long chains over multiple lines with indentation.</strong> The above chain is too long to be readable in one line. To balance the readability of codes with the efficiency of chaining, it is good practice to break long chains over several lines, with appropriate indentations.</p>
<p>Here are some rules of thumb on style.</p>
<ul>
<li>Separate comparisons by spaces (<code>a&lt;b</code> as <code>a &lt; b</code>)</li>
<li>Split chains longer than 30-40 characters over multiple lines</li>
<li>Split lines between delimiters <code>(</code>, <code>)</code></li>
<li>Increase indentation for lines between delimiters</li>
<li>For chained operations, try to get each step in the chain shown on a separate line</li>
<li>For functions with multiple arguments, split lines so that each argument is on its own line</li>
</ul>
</section>
<section id="question-11" class="level3">
<h3 class="anchored" data-anchor-id="question-11">Question 11</h3>
<p>Write a chain with appropriate style to display the (first) most common boy and girl names in each of the years 2005-2015. Do this in two steps:</p>
<ol type="1">
<li>First filter <code>baby_names</code> by year, then group by year and sex, and then find the indices of first occurence of the largest counts. Store these indices as <code>ind</code>.</li>
<li>Then use <code>.loc[]</code> with your stored indices to slice <code>baby_names</code> so as to retrieve the rows corresponding to each most frequent name each year and for each sex; then pivot this table so that the columns are years, the rows are sexes, and the entries are names. Store this as <code>pivot_names</code>.</li>
</ol>
<!--
BEGIN QUESTION
name: q11
points: 1
manual: false
-->
<div class="cell" data-tags="[]" data-execution_count="99">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="re">BEGIN</span><span class="co"> SOLUTION</span></span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a>ind <span class="op">=</span>  baby_names[(baby_names.Year <span class="op">&lt;=</span> <span class="dv">2015</span>) <span class="op">&amp;</span> (baby_names.Year <span class="op">&gt;=</span> <span class="dv">2005</span>)].groupby(</span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a>    [<span class="st">'Sex'</span>, <span class="st">'Year'</span>]</span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a>).Count.idxmax(</span>
<span id="cb100-5"><a href="#cb100-5" aria-hidden="true" tabindex="-1"></a>).values</span>
<span id="cb100-6"><a href="#cb100-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-7"><a href="#cb100-7" aria-hidden="true" tabindex="-1"></a>pivot_names <span class="op">=</span> baby_names.loc[ind, :].pivot(</span>
<span id="cb100-8"><a href="#cb100-8" aria-hidden="true" tabindex="-1"></a>    index <span class="op">=</span> <span class="st">'Sex'</span>, </span>
<span id="cb100-9"><a href="#cb100-9" aria-hidden="true" tabindex="-1"></a>    columns <span class="op">=</span> <span class="st">'Year'</span>, </span>
<span id="cb100-10"><a href="#cb100-10" aria-hidden="true" tabindex="-1"></a>    values <span class="op">=</span> <span class="st">'Name'</span></span>
<span id="cb100-11"><a href="#cb100-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb100-12"><a href="#cb100-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-13"><a href="#cb100-13" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="re">END</span><span class="co"> SOLUTION</span></span>
<span id="cb100-14"><a href="#cb100-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(ind)</span>
<span id="cb100-15"><a href="#cb100-15" aria-hidden="true" tabindex="-1"></a>pivot_names</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[ 55767  59866  64073  68355  72602  76793  80890  84883  88981  92944
  96958 150164 152939 155807 158775 161686 164614 167527 170414 173323
 176221 179159]</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="99">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">2005</th>
<th data-quarto-table-cell-role="th">2006</th>
<th data-quarto-table-cell-role="th">2007</th>
<th data-quarto-table-cell-role="th">2008</th>
<th data-quarto-table-cell-role="th">2009</th>
<th data-quarto-table-cell-role="th">2010</th>
<th data-quarto-table-cell-role="th">2011</th>
<th data-quarto-table-cell-role="th">2012</th>
<th data-quarto-table-cell-role="th">2013</th>
<th data-quarto-table-cell-role="th">2014</th>
<th data-quarto-table-cell-role="th">2015</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Sex</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">F</td>
<td>Emily</td>
<td>Emily</td>
<td>Emily</td>
<td>Isabella</td>
<td>Isabella</td>
<td>Isabella</td>
<td>Sophia</td>
<td>Sophia</td>
<td>Sophia</td>
<td>Sophia</td>
<td>Sophia</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">M</td>
<td>Daniel</td>
<td>Daniel</td>
<td>Daniel</td>
<td>Daniel</td>
<td>Daniel</td>
<td>Jacob</td>
<td>Jacob</td>
<td>Jacob</td>
<td>Jacob</td>
<td>Noah</td>
<td>Noah</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a>grader.check(<span class="st">"q11"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="submission" class="level1">
<h1>Submission</h1>
<ol type="1">
<li>Save the notebook.</li>
<li>Restart the kernel and run all cells. (<strong>CAUTION</strong>: if your notebook is not saved, you will lose your work.)</li>
<li>Carefully look through your notebook and verify that all computations execute correctly. You should see <strong>no errors</strong>; if there are any errors, make sure to correct them before you submit the notebook.</li>
<li>Download the notebook as an <code>.ipynb</code> file. This is your backup copy.</li>
<li>Export the notebook as PDF and upload to Gradescope.</li>
</ol>
<hr>
<p>To double-check your work, the cell below will rerun all of the autograder tests.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a>grader.check_all()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>